import React, { useState, useCallback, useMemo } from "react"
import Name from "./components/Name"
import Counter2 from "./components/Counter2"

const App = () => {
  const [name, setName] = useState("")
  const [count1, setCount1] = useState(0)
  const [count2, setCount2] = useState(0)

  const [arr, setArr] = useState([
    1,
    2,
    3,
    4,
    1,
    2,
    3,
    4,
    5,
    6,
    7,
    8,
    9,
    10,
    11,
    12,
    13,
    14,
    15,
    1,
    2,
    3,
    4,
    5,
    6,
    7,
    8,
    9,
    10,
    11,
    12,
    13,
    14,
    15,
    1,
    2,
    3,
    4,
    5,
    6,
    7,
    8,
    9,
    10,
    11,
    12,
    13,
    14,
    15,
    1,
    2,
    3,
    4,
    5,
    6,
    7,
    8,
    9,
    10,
    11,
    12,
    13,
    14,
    15,
    1,
    2,
    3,
    4,
    5,
    6,
    7,
    8,
    9,
    10,
    11,
    12,
    13,
    14,
    15,
    1,
    2,
    3,
    4,
    5,
    6,
    7,
    8,
    9,
    10,
    11,
    12,
    13,
    14,
    15,
    1,
    2,
    3,
    4,
    5,
    6,
    7,
    8,
    9,
    10,
    11,
    12,
    13,
    14,
    15,
    1,
    2,
    3,
    4,
    5,
    6,
    7,
    8,
    9,
    10,
    11,
    12,
    13,
    14,
    15,
    1,
    2,
    3,
    4,
    5,
    6,
    7,
    8,
    9,
    10,
    11,
    12,
    13,
    14,
    15,
    1,
    2,
    3,
    4,
    5,
    6,
    7,
    8,
    9,
    10,
    11,
    12,
    13,
    14,
    15,
    1,
    2,
    3,
    4,
    5,
    6,
    7,
    8,
    9,
    10,
    11,
    12,
    13,
    14,
    15,
    1,
    2,
    3,
    4,
    5,
    6,
    7,
    8,
    9,
    10,
    11,
    12,
    13,
    14,
    15,
    1,
    2,
    3,
    4,
    5,
    6,
    7,
    8,
    9,
    10,
    11,
    12,
    13,
    14,
    15,
    959564,
    5,
    6,
    7,
    8,
    9,
    10,
    11,
    12,
    13,
    14,
    15,
  ])

  const handleCount1 = useCallback(() => {
    setCount1(count1 + 1)
  }, [count1])

  const handleCount2 = useCallback(() => {
    setCount2(count2 + 1)
  }, [count2])

  const handleChange = useCallback(
    n => {
      setName(n)
    },
    [setName]
  )

  const getLargestNum = useMemo(() => {
    console.log("getLargestnum render")
    return Math.max(...arr)
  }, [arr])
  return (
    <div>
      <p>Counter1: {count1}</p>
      <button onClick={handleCount1}> Increment1</button>
      <Counter2 count2={count2} handleCount2={handleCount2} />
      <Name handleChange={handleChange} name={name} />
      {getLargestNum}
    </div>
  )
}

export default App
